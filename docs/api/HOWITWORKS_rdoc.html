<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>File: HOWITWORKS.rdoc [VanUnits]</title>

	<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>
</head>

<body class="file">
	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./HISTORY_rdoc.html">HISTORY.rdoc</a></li>
				
					<li class="file"><a href="./HOWITWORKS_rdoc.html">HOWITWORKS.rdoc</a></li>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Van.html">Van</a></li>
				
					<li><a href="./Van/Units/BaseUnit.html">Van::Units::BaseUnit</a></li>
				
					<li><a href="./Van/Units/BinaryLoader.html">Van::Units::BinaryLoader</a></li>
				
					<li><a href="./Van/Units/Config.html">Van::Units::Config</a></li>
				
					<li><a href="./Van/Units/Constants.html">Van::Units::Constants</a></li>
				
					<li><a href="./Van/Units/Constants/CGS.html">Van::Units::Constants::CGS</a></li>
				
					<li><a href="./Van/Units/Constants/MKS.html">Van::Units::Constants::MKS</a></li>
				
					<li><a href="./Van/Units/Converter.html">Van::Units::Converter</a></li>
				
					<li><a href="./Van/Units/Converter/ExchangeRate.html">Van::Units::Converter::ExchangeRate</a></li>
				
					<li><a href="./Van/Units/Converter/ExchangeRate/CachedXMethods.html">Van::Units::Converter::ExchangeRate::CachedXMethods</a></li>
				
					<li><a href="./Van/Units/Converter/ExchangeRate/XMethods.html">Van::Units::Converter::ExchangeRate::XMethods</a></li>
				
					<li><a href="./Van/Units/CurrencyLoader.html">Van::Units::CurrencyLoader</a></li>
				
					<li><a href="./Van/Units/IECBinaryLoader.html">Van::Units::IECBinaryLoader</a></li>
				
					<li><a href="./Van/Units/LengthLoader.html">Van::Units::LengthLoader</a></li>
				
					<li><a href="./Van/Units/Loader.html">Van::Units::Loader</a></li>
				
					<li><a href="./Van/Units/Regexps.html">Van::Units::Regexps</a></li>
				
					<li><a href="./Van/Units/SILoader.html">Van::Units::SILoader</a></li>
				
					<li><a href="./Van/Units/StandardLoader.html">Van::Units::StandardLoader</a></li>
				
					<li><a href="./Van/Units/Unit.html">Van::Units::Unit</a></li>
				
					<li><a href="./Van/Units/Value.html">Van::Units::Value</a></li>
				
					<li><a href="./Math/Constants.html">Math::Constants</a></li>
				
					<li><a href="./Math/Constants/CGS.html">Math::Constants::CGS</a></li>
				
					<li><a href="./Math/Constants/MKS.html">Math::Constants::MKS</a></li>
				
					<li><a href="./Math/Constants/Natural.html">Math::Constants::Natural</a></li>
				
					<li><a href="./Exception.html">Exception</a></li>
				
					<li><a href="./Numeric.html">Numeric</a></li>
				
					<li><a href="./String.html">String</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1>How Units.rb Works</h1>
<h2>Basics</h2>
<p>
There are two types of units: base units, which are not expressed in
function of other units, and derived units which are expressed as a
function of other units. The base units are represented by the <a
href="Van/Units/BaseUnit.html">Van::Units::BaseUnit</a> class. Derived
units are implemented by <a
href="Van/Units/Unit.html">Van::Units::Unit</a>. Derived units are
represented as the product of powers of other units that can  be base units
or derived units. These powers are kept in a Hash. BaseUnit is never
exposed to the user; if you need a base unit, is represented as a Unit
that&#8217;s the product of a single BaseUnit to the power 1. To be able to
work with units, it&#8217;s often necessary to normalize them in some way,
i.e., express them in function of base units only. This is done by the
Unit#simplify method. This normalization is not performed automatically;
rather we have chosen to have the user of units.rb initiate any conversion
so he or she can have more control over rounding errors and such. Units can
be multiplied, divided and exponentiated.
</p>
<p>
Units by itself are not very interesting unless they are combined with some
numeric value. This is what the <a
href="Van/Units/Value.html">Van::Units::Value</a> class does. It holds a
Unit, and a value which can be integers, float, BigDecimals, complex
numbers, etc. Values can be multiplied, divided, and added and subtracted
if the units are compatible. This is checked by normalizing the units and
then transforming the Value with the larger unit to the smaller unit. For
instance, adding inches and feet will result in inches because an inch is
the smaller unit. Value supports most other numeric operators.
</p>
<h2>Converters</h2>
<p>
units.rb has the notion of converters. This notion has been introduced
because sometimes units have the same name but differ in value depending on
location (e.g., a hundredweight in the UK and the US), they can have the
same symbol though they are different, or in the case of currency you might
want to use different services with possibly slightly different exchange
rates. A unit belongs unambiguously to a single converter. Units from
different converters can be used together, so it is possible to use US and
UK hundredweights in the same expression. What happens here is that a unit
is not only determined by a name but also by a converter. That&#8217;s all
there is to it really.
</p>
<p>
There&#8217;s always the notion of a current converter. When constructing a
unit, the current converter is used by default unless specified otherwise.
This current converter can be changed with Van::Units.with_unit_converter
which takes a block. The current converter is stored in a thread-local
variable for the duration of the block and is taken from there. This gives
the user means to specify what unit systems to use in a more granular way.
Converter can include other converter. This allows a converter to extend
another converter and override some of the names. This is actually what
Van::Units.with_unit_converter does: internally it creates an anonymous
converter that includes both the previous &#8220;current converter&#8221;
and the new one which gets stacked on top and thus takes precedence.
</p>
<h2>Syntactic Sugar</h2>
<p>
Units are specified using symbols like :mile and :in, but units.rb offers a
lot of syntactic sugar to make it easier to use. After including
Van::Units, you can use mile and in directly, or even do 1.in and 2.miles.
This is implemented through method_missing and const_missing (for units
that start with a capital letter).
</p>
<h2>Loading Config Files</h2>
<p>
units.rb uses a DSL to specify converters and units. These DSLs are
conveniently used in the config files to preload a large number of units.
</p>

	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>
</body>
</html>

